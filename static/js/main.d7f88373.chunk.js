(this["webpackJsonptodo-app-now"]=this["webpackJsonptodo-app-now"]||[]).push([[0],{59:function(e,t,a){e.exports=a(95)},64:function(e,t,a){},82:function(e,t,a){},91:function(e,t,a){},95:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(24),c=a.n(o),l=(a(64),a(6)),s=a(7),i=a(11),u=a(10),d=a(18),m=a.n(d),h=new(function(){function e(){Object(l.a)(this,e)}return Object(s.a)(e,[{key:"registerSucessfulLogin",value:function(e,t){sessionStorage.setItem("authenticatedUser",e),this.setInterceptors()}},{key:"logout",value:function(){sessionStorage.removeItem("authenticatedUser")}},{key:"isUserLoggedIn",value:function(){return null!==sessionStorage.getItem("authenticatedUser")}},{key:"getUserName",value:function(){var e=sessionStorage.getItem("authenticatedUser");return null===e?"":e}},{key:"setInterceptors",value:function(){var e=this,t="Basic "+window.btoa("darshan:2darshan");m.a.interceptors.request.use((function(a){return e.isUserLoggedIn()&&(a.headers.authorization=t),a}))}}]),e}()),p=(a(82),function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={username:"Darshan",password:"",loginSuccess:null,showError:null},e.handlerUsername=function(t){e.setState({username:t.target.value})},e.handlerPassword=function(t){e.setState({password:t.target.value})},e.handlerLogin=function(){"Darshan"===e.state.username&&"2darshan"===e.state.password?(h.registerSucessfulLogin(e.state.username,e.state.password),e.props.history.push("/welcome/".concat(e.state.username)),e.setState({loginSuccess:!0}),e.setState({showError:!1})):(e.setState({loginSuccess:!1}),e.setState({showError:!0}))},e}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"parent"},r.a.createElement("div",{className:"container"},r.a.createElement("label",null,r.a.createElement("b",null,"Username")),r.a.createElement("input",{type:"text",className:"text_123",placeholder:"Enter Username",value:this.state.username,onChange:this.handlerUsername,required:!0}),r.a.createElement("label",null,r.a.createElement("b",null,"Password")),r.a.createElement("input",{type:"password",className:"pass_123",placeholder:"Enter Password",value:this.state.password,onChange:this.handlerPassword,required:!0}),r.a.createElement("button",{onClick:this.handlerLogin,style:{marginTop:"50px",borderRadius:"100px"}},"Login"),this.state.showError&&r.a.createElement("div",{className:"alert alert-danger text-center",style:{marginTop:"5px"}},"Invalid username or password ")))}}]),a}(n.Component)),g=a(97),E=a(28),f=a.n(E),b=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={todo:[],message:null},e.deleteTodoClicked=function(t){var a=h.getUserName();m.a.delete("http://localhost:8080/api/users/".concat(a,"/todos/").concat(t)).then((function(a){e.setState({message:"Delete of todo ".concat(t," Successful")}),e.componentDidMount()}))},e.updateTodoClicked=function(t){e.props.history.push("/todos/".concat(t))},e.addTodoClick=function(){e.props.history.push("/todos/-1")},e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=h.getUserName();m.a.get("http://localhost:8080/api/users/".concat(t,"/todos")).then((function(t){e.setState({todo:t.data})}))}},{key:"render",value:function(){var e=this,t=this.state.todo.map((function(t){return r.a.createElement("tr",{key:t.id},r.a.createElement("td",null,t.todo.description),r.a.createElement("td",null,t.todo.done?"Yes":"No"),r.a.createElement("td",null,f()(t.todo.targetDate).format("YYYY-MM-DD")),r.a.createElement("td",null,r.a.createElement("button",{className:"btn btn-danger",style:{color:"#303030",border:"none"},onClick:function(){return e.deleteTodoClicked(t.id)}},"\u2717")),r.a.createElement("td",null,r.a.createElement("button",{className:"btn btn-warning",style:{color:"#303030",border:"none"},onClick:function(){return e.updateTodoClicked(t.id)}},"\u2714")))}));return r.a.createElement("div",{style:{marginTop:"30px"}},r.a.createElement("div",{className:"d-flex justify-content-center"}," ",r.a.createElement("h3",{style:{color:"#0074B1"}},"LIST OF TODOS"),"  "),this.state.message&&r.a.createElement("div",{className:"alert alert-dark text-center"},this.state.message),r.a.createElement("div",{className:"container",style:{overflowY:"scroll",height:"300px"}},r.a.createElement(g.a,{striped:!0,bordered:!0,hover:!0,variant:"dark"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"DESCRIPTION"),r.a.createElement("th",null,"DONE"),r.a.createElement("th",null,"DATE"),r.a.createElement("th",null,"DELETE"),r.a.createElement("th",null,"UPDATE"))),r.a.createElement("tbody",null,t))),r.a.createElement("button",{onClick:this.addTodoClick,style:{width:"20%",marginLeft:"390px",marginTop:"50px"}},"Add"))}}]),a}(n.Component),v=a(13),y=a(3),k=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"d-flex justify-content-center",style:{marginTop:"200px"}},r.a.createElement("h3",{style:{color:"#0074B1"}},"Hello ",this.props.match.params.name,"! Manage your todos ",r.a.createElement(v.b,{to:"/todos",style:{textDecoration:"underline"}},"here")," "))}}]),a}(n.Component),w=a(98),O=a(99),j=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){var e=h.isUserLoggedIn();return r.a.createElement(w.a,{bg:"dark",expand:"lg",style:{boxShadow:"0 4px 50px 0 rgba(0,0,0,0.4)"}},r.a.createElement(w.a.Brand,null,r.a.createElement(v.b,{to:"/welcome/darshan"},"Todo App")),r.a.createElement(w.a.Toggle,{"aria-controls":"basic-navbar-nav"}),r.a.createElement(w.a.Collapse,{id:"basic-navbar-nav"},r.a.createElement(O.a,{className:"mr-auto"},e&&r.a.createElement(O.a.Link,null,r.a.createElement(v.b,{to:"/welcome/darshan"},"Home")),e&&r.a.createElement(O.a.Link,null," ",r.a.createElement(v.b,{to:"/todos"},"Todos")),!e&&r.a.createElement(O.a.Link,null,r.a.createElement(v.b,{to:"/login"},"Login")),e&&r.a.createElement(O.a.Link,null," ",r.a.createElement(v.b,{to:"/logout",onClick:h.logout},"Logout")))))}}]),a}(n.Component),N=Object(y.g)(j),C=(a(91),function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("footer",{className:"footerr"},r.a.createElement("div",{className:"footer-copyright text-center py-3",style:{color:"#1376ff"}},"\xa9 2020 Copyright:",r.a.createElement(v.b,{to:"/welcome/darshan"},"TodoList.com"))))}}]),a}(n.Component)),D=(a(92),function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"Logged out"),r.a.createElement("div",{className:"container"},"Thank you for using my application"))}}]),a}(n.Component)),S=function(e){return h.isUserLoggedIn()?r.a.createElement(y.b,e):r.a.createElement(y.a,{to:"/login"})},x=a(27),T=a(57),L=a.n(T),U=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={id:e.props.match.params.id,description:"",targetDate:"",checked:!1},e.handleChange=function(t){e.setState({checked:t})},e.onSubmit=function(t){if(-1!==e.state.id){var a={id:e.state.id,todo:{description:t.description,done:t.checked,targetDate:t.targetDate}};m.a.put("http://localhost:8080/api/users/".concat(h.getUserName(),"/todos/").concat(e.state.id),a).then((function(){e.props.history.push("/todos")}))}else{var n={todo:{description:t.description,done:t.checked,targetDate:t.targetDate}};m.a.post("http://localhost:8080/api/users/".concat(h.getUserName(),"/todos"),n).then((function(){e.props.history.push("/todos")}))}},e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this;if("-1"!==this.state.id){var t=h.getUserName(),a=this.state.id;m.a.get("http://localhost:8080/api/users/".concat(t,"/todos/").concat(a)).then((function(t){e.setState({description:t.data.todo.description,targetDate:f()(t.data.todo.targetDate).format("YYYY-MM-DD"),checked:t.data.todo.done})}))}else console.log("the id is"+this.state.id)}},{key:"render",value:function(){var e=this,t=this.state.description,a=this.state.targetDate,n=this.state.checked;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"parent"},r.a.createElement("div",{className:"container"},r.a.createElement(x.c,{initialValues:{description:t,targetDate:a,checked:n},enableReinitialize:!0,onSubmit:this.onSubmit},(function(t){return r.a.createElement(x.b,null,r.a.createElement("fieldset",{className:"form-group"},r.a.createElement("label",null,"Description"),r.a.createElement(x.a,{className:"text_123",type:"text",name:"description"})),r.a.createElement("fieldset",{className:"form-group"},r.a.createElement("label",null,"Have You Completed ?"),r.a.createElement("div",{style:{margin:"auto"}},r.a.createElement(L.a,{onChange:e.handleChange,checked:e.state.checked,uncheckedIcon:!1,onColor:"#0074b1"})," ")),r.a.createElement("fieldset",{className:"form-group"},r.a.createElement("label",null,"Target Date"),r.a.createElement(x.a,{className:"text_123",type:"date",name:"targetDate"})),r.a.createElement("button",{type:"submit"},"Save"))})))))}}]),a}(n.Component),I=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{style:{height:"100vh",minHeight:"100vh",backgroundColor:"#343a40"}},r.a.createElement(v.a,null,r.a.createElement(r.a.Fragment,null,r.a.createElement(N,null),r.a.createElement(y.d,null,r.a.createElement(y.b,{path:"/",exact:!0,component:p}),r.a.createElement(y.b,{path:"/login",component:p}),r.a.createElement(S,{path:"/welcome/:name",component:k}),r.a.createElement(S,{path:"/todos/:id",component:U}),r.a.createElement(S,{path:"/todos",component:b}),r.a.createElement(S,{path:"/logout",component:D})),r.a.createElement(C,null))))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(I,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[59,1,2]]]);
//# sourceMappingURL=main.d7f88373.chunk.js.map